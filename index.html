<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js - The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">
<div class="slides">
    <section>
        <h1>Scala</h1>
<p>Martin Odersky - FOSDEM '09<br>
    </p>
</section>
<section>
    <h2>Plan</h2>
<ol>
<li>Why a new language</li>
<li>A scalable language<br>
</li>
<li>From Java to Scala</li>
<li>
<br>
</li>
<li>
<br>
</li>
</ol>
</section>
<section>
    <h2>Why a new LANGUAGE</h2>
<img style="height: 548px;" src="https://s3.amazonaws.com/media-p.slid.es/uploads/andreiarion/images/40463/languages.png">
</section>
<section>
    <h2>The software landscape today</h2>
<div align="center">
<ul>
<li>many languages playing together</li>
<li>every language can concentrate on what it’s best at</li>
</ul>
<p>
    <br>
</p>
<p>Problem: cross language communication</p>
<p>Based on low-level representations <br>
</p>
<p>XML , Strings -&nbsp; JDBC database queries - SQL - JAVA.&nbsp;</p>
<p>
<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; complicated, fragile source of misunderstandings</p>
<p>NOT TYPE SAFE<br>
</p>

<p>
<br>
</p>
</div>
</section>
<section>
    <h2>Scala AS A SCRIPTING LANGUAGE</h2>
    <p>
    <br>
</p>
<pre><code>// HelloWorld.scala<br>Console.println("Hello world");<br><br>// strip the boilerplate<br>println "Shorter!"<br><br><br>bash$ scala HelloWorld.scala<br>Hello World<br>Shorter!<br><br><br>bash$ scala -e 'println("Hello World")'<br>Hello World<br>Shorter!<br></code></pre>
</section>
<section>
    <h2>Scala "SHELL" (REPL)</h2>
<pre><code> bash$ scala<br>Welcome to Scala version 2.10.1.final (Java HotSpot(TM) 64-Bit Server VM, Java 1.6.0_22).<br>Type in expressions to have them evaluated.<br>Type :help for more information.<br><br>scala&gt; class Foo { def bar = "baz" }<br>defined class Foo<br><br>scala&gt; val f = new Foo<br>f: Foo = Foo@51707653<br><br>scala&gt; f.bar<br>res2: java.lang.String = baz</code></pre>
</section>
<section>
    <h2>JAVA OF THE FUTURE </h2>
    <div align="left">
        <ul>
            <li>has&nbsp; everything Java has&nbsp; (different form sometimes)<br>
            </li>
            <li>compiles to similar bytecode <br>
            </li>
            <li>completely interoperable <br>
                <br>
                <br>
                <br>
                <br>
            </li>
            <li>
                <div align="left">closures ( Java 8?)</div>
            </li>
        </ul>
    </div>
    <div align="left">
        <ul>
            <li>traits and pattern matching ( Java X?) <br>
            </li>
        </ul>
    </div>
</section>
<section>
    <h2>Kitchen-SINK LANGUAGE?</h2>
    <blockquote>
        <p>Have the same sort of constructs work for very small as well as very large programs.<br>
    </p>
    <p>
    <br>
</p>
</blockquote>
<p>
<br>
</p>
<blockquote>
    <p>Focus on <b>abstraction</b> and <b>composition</b>, so that users can implement their own specialized features as needed.</p>
</blockquote>
</section>
<section>
    <h2>Java vs SCALA</h2>
<p>
</p>
<table border="0" cellpadding="0" cellspacing="0">
    <colgroup>
        <col width="50%">
            <col width="50%">
            </colgroup>
            <tbody>
                <tr>
                    <td>
                        <ol>
                            <li>
                                <p>
                                    <span>Scala adds</span>
                                </p>
                            </li>
                        </ol>
                    </td>
                    <td>
                        <ol>
                            <li>
                                <p>
                                    <span>Scala removes</span>
                                </p>
                            </li>
                        </ol>
                    </td>
                </tr>
                <tr>
                    <td class="ce3">
                        <ol>
                            <li>
                                <p>
                                    <span class="T32">+ a pure object system</span>
                                </p>
                            </li>
                        </ol>
                    </td>
                    <td class="ce4">
                        <ol>
                            <li>
                                <p>
                                    <span class="T32">- static members</span>
                                </p>
                            </li>
                        </ol>
                    </td>
                </tr>
                <tr>
                    <td class="ce5">
                        <ol>
                            <li>
                                <p>
                                    <span class="T32">+ operators overloading</span>
                                </p>
                            </li>
                        </ol>
                    </td>
                    <td class="ce6">
                        <ol>
                            <li>
                                <p>
                                    <span class="T32">- primitive types</span>
                                </p>
                            </li>
                        </ol>
                    </td>
                </tr>
                <tr>
                    <td class="ce7">
                        <ol>
                            <li>
                                <p>
                                    <span class="T32">+ closures </span>
                                </p>
                            </li>
                        </ol>
                    </td>
                    <td class="ce8">
                        <ol>
                            <li>
                                <p>
                                    <span class="T32">- break, continue</span>
                                </p>
                            </li>
                        </ol>
                    </td>
                </tr>
                <tr>
                    <td class="ce11">
                        <ol>
                            <li>
                                <p>
                                    <span class="T32">+ existential types</span>
                                </p>
                            </li>
                        </ol>
                    </td>
                    <td class="ce12">
                        <ol>
                            <li>
                                <p>
                                    <span class="T32">- wildcards</span>
                                </p>
                            </li>
                        </ol>
                    </td>
                </tr>
                <tr>
                    <td class="ce13">
                        <ol>
                            <li>
                                <p>
                                    <span class="T32">+ abstract types</span>
                                </p>
                            </li>
                        </ol>
                    </td>
                    <td class="ce14">
                        <ul>
                            <li>
                                <p style="margin-left: 0cm;">
                                    <span style="display: block; float: left; min-width: 0cm;">-</span>
                                    <span class="T32">&nbsp;</span>
                                    <span class="T32">raw types</span>
                                    <span class="odfLiEnd">&nbsp;</span>
                                </p>
                            </li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td class="ce15">
                        <ol>
                            <li>
                                <p>
                                    <span class="T32">+ pattern matching</span>
                                </p>
                            </li>
                        </ol>
                    </td>
                    <td class="ce16">
                        <ul>
                            <li>
                                <p style="margin-left: 0cm;">
                                    <span style="display: block; float: left; min-width: 0cm;">-</span>
                                    <span class="T33">&nbsp;</span>
                                    <span class="T33">enums</span>
                                    <span class="odfLiEnd">&nbsp;</span>
                                </p>
                            </li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>
    </p>
<br>Modeled in libraries:<br>&nbsp;&nbsp; assert, enums, properties, events, actors, using, queries, …<br>
<p>
</p>


</section>
    <section>
        <h2>JAVA OF THE FUTURE <br>
        </h2>
        <p>
        <br>
    </p>
<pre><code>public class Person {<br>   private String name;<br>   private Integer age;<br>   <br>   public Person(String name, Integer age) {<br>     this.name = name;<br>     this.age = age;<br>   }<br>   public String getName() {<br>      return this.name;<br>   }<br>   public void setName(String name) {<br>      this.name = name;<br>   }<br>//...<br>}<br></code></pre>
<pre><code> <br>class Person(var name: String, var age: Int)<br><br></code></pre>
</section>
<section>
    <h2>Java of the FUTURE</h2>
    <p>Eclipse can generate getter and setters for you</p>
    <p>Or you can code-generate (adapters, tests, etc...)<br>
</p>
<p>
<br>
</p>
<p>But&nbsp;&nbsp; :</p>
<ul>
    <li>generated blocks/classes/tests can be noisy</li>
    <li>hassle to maintain <br>
    </li>
</ul>
<br>
</section>
<section>
    <h2>CLASSES (2)<br>
    </h2>
    <div align="left">
        <ul>
            <li>default values<br>
            </li>
        </ul>
        <br>
<pre><code></code><code>class Person(var name: String, var age: Int = 18)</code>    </pre>
    <ul>
        <li>constraints / validation<br>
        </li>
    </ul>
<pre><code></code><code>class Person(var name: String, var age) {<br>    require age&gt;18<br>}</code></pre>
<ul>
    <li>case classes =&gt; pattern matching, factory, equals, hashCode</li>
</ul>
</div>
<pre><code></code><code>case class Person(var name: String, var age) <br></code><br><code>var p = Person("Andrei",0)<br><br>var (nom,age) = p<br>println nom<br></code></pre>
</section>
<section>
    <h2>Definitions</h2>
<pre><code>int x = expression<br>final String x = expression<br><br>int fun(int x) { <br>  return result<br>}<br><br></code></pre>
<p>
<br>
</p>
<pre><code>var x: Int = expression<br>val x: String = expression<br><br><br>def fun(x: Int): Int = {<br>  result<br>}<br><br></code></pre>
</section>
<section>
    <h2>Definitions(2)</h2>
<pre><code></code><code>public int x = 0<br>public final HashMap&lt;String, Pair&lt;String, List&lt;Char&gt;&gt;&gt; y = …</code></pre>
<p>
<br>
</p>
<pre><code>var x = 0<br>val y: HashMap[String, Pair[String,List[Char]]] = … <br></code></pre>
</section>
<section>
    <h2>Expressions and CLASSES<br>
    </h2>
<pre><code></code><code>obj.meth(arg);<br>obj meth arg<br><br>if (cond) expr1 else expr2<br><br>expr match {<br>    case pat1 =&gt; expr1<br>    ....<br>    case patn =&gt; exprn<br>} </code></pre>
<pre><code><br>class Sample {<br>    def instMeth() = println "toto"<br>}<br><br>object Sample {<br>    def staticMeth() = println "toto"<br>}</code></pre>
</section>
<section>
    <h2>What makes Scala scalable?</h2>
    <p>strong typing, inference, traits, little boilerplate…</p>
    <p style="position: absolute; width: 907px; height: 57px; z-index: 4; left: 11px; top: 182px;" class="absolute-element">
        <b>integration of functional and object-oriented programming</b>
    </p>
    <p>
    <br>
</p>
<p>
<br>
</p>
<p style="position: absolute; width: 269px; height: 57px; z-index: 4; left: 57px; top: 282px;" class="absolute-element">
    <font color="rgb(204, 0, 0)">
        <b>Object-Oriented</b>
    </font>
    <br>
</p>
<p style="position: absolute; width: 338px; height: 291px; z-index: 4; left: 17px; top: 348px;" class="absolute-element">
    <font style="font-size: 24px;">Makes it easy to adapt and extend <br>complex systems, using:<br>&nbsp;subtyping and inheritance<br>&nbsp;dynamic configurations<br>&nbsp;classes as partial abstractions<br>
    </font>
    <br>
</p>
<p style="position: absolute; width: 168px; height: 57px; z-index: 4; left: 638px; top: 281px;" class="absolute-element">
    <font color="rgb(204, 0, 0)">Functional</font>
</p>
<p style="position: absolute; width: 303px; height: 291px; z-index: 4; left: 584px; top: 341px;" class="absolute-element">
    <font style="font-size: 24px;">build from simple parts, using<br>&nbsp;higher-order functions,<br>&nbsp;algebraic types and <br>&nbsp; pattern matching,<br>&nbsp;parametric polymorphism.</font>
    <br>
</p>
</section>
<section>
    <h2>SCALA is Object ORIENTED<br>
    </h2>Every value is an object<br>
<pre><code> val x = 1</code></pre>Every operation is a method call<br>
<pre><code> val y = 1 + 2<br> val z = (1).+(2)<br></code></pre>
<br>
<br>
<br>
<br>Exceptions to these rules in Java (such as primitive types, statics) are eliminated.&nbsp;&nbsp;&nbsp; <br>
<p>
<br>
</p>
</section>
<section>
    <h2>Some code is better if functional</h2>
    <p>
    <br>
</p>
<pre><code>import
 java.util.ArrayList;   
  <br>...   
  <br>Person[]  
 people;    
  <br>Person[]  
 minors;    
  <br>Person[]  
 adults;    
  <br>ArrayList&lt;Person&gt;   
 minorsList
 = 
 new
 ArrayList&lt;Person&gt;(); 
  ArrayList&lt;Person&gt;   
 adultsList
 = 
 new
 ArrayList&lt;Person&gt;(); 
  <br>for
 (int   
 i
 =
 0;
 i
 &lt;
 people.length;
 i++){  
  <br>   
 (people[i].age
 &lt;
 18
 ?
 minorsList
 :
 adultsList)
.add(people[i]);    
<br>minors
 =  
 minorsList.toArray(people);    
  <br>adults
 =  
 adultsList.toArray(people);    
  <br></code></pre>
<p>
<br>
</p>
<pre><code>val
 people:
 Array[Person]  
  <br>val
 (minors,
 adults)
 =
 people
 partition
 (_.age
 &lt;
 18)  <br></code></pre>
<p>
<font style="font-size: 18px;">(pattern matching, infix method call, function value)</font>
<br>
</p>
</section>
<section>
    <h2>Scala is Functional</h2>
    <p>Every function is a value<br>
</p>
<pre><code>val
 f =    
(p: Person) =&gt; p.age &lt; 18<br>val (minors, adults) = people partition (f)<br></code></pre>
<p>Functions can be anonymous</p>
<p> </p>
<pre><code>val (minors, adults) = people partition ((p:Person) =&gt; p.age &lt; 18 )<br>val (minors, adults) = people partition (_.age&lt;18) <br></code></pre>
<p>
<br>Higher-order functions= functions that take functions as parameters<br>
</p>
</section>
<section>
    <h2>Functions are objects</h2>
    <p>...with an apply method<br>
</p>
<pre><code>val f = (x: Int) =&gt; x + 1<br>val n = f(1)<br></code></pre>
<pre><code>trait Function1[-S, +T] {<br> def apply(x: S): T<br>}</code></pre>
<p>equivalent with</p>
<pre><code>val f = new Function1[Int, Int] {<br>  def apply(x: Int) = <br>    x + 1<br>} <br>val n = f.apply(1)<br></code></pre>
<p>
<br>
</p>
<p>
<br>
</p>
</section>
<section>
    <h2>Title</h2>
    <p>&nbsp;&nbsp;&nbsp; <br>Lightweight and concise. <br>
    <br>
</p>
<ul>
    <li>semicolon inference</li>
    <li>type inference,</li>
    <li>lightweight classes</li>
    <li>extensible API’s</li>
    <li>closures as control abstractions<br>
        <br>
    </li>
</ul>
<p>Reduction in&nbsp; LOC (&gt; 2x)<br>
</p>
</section>
<section>
    <h2>A SCALABLE LANGUAGE</h2>
    <ul>
        <li>suitable for <b>very small</b> as well as <b>very large</b> programs<br>
            <br>
        </li>
        <li>single language for <b>extension scripts</b> and the heavy lifting<br>
            <br>
        </li>
        <li>
            <b>application-specific needs</b> are handled through libraries and embedded DSL's <br>
        </li>
    </ul>
</section>
<section>
    <h2>Scalability demands extensibility</h2>
    <p>Using an existing data type</p>
<pre><code></code><code>def factorial(x: Int): Int = <br>  if (x == 0) 1 else x * factorial(x - 1)</code></pre>
<p>
<br>
</p>
<p>Using a library provided data type<br>
</p>
<pre><code>import java.math.BigInteger<br>def factorial(x: BigInteger): BigInteger =<br>  if (x == BigInteger.ZERO)<br>    BigInteger.ONE<br>  else<br>    x.multiply(factorial(x.subtract(BigInteger.ONE)))<br>}</code></pre>
<br>
</section>
<section>
    <section>
        <h2>Adding a BigInt</h2>
<pre><code>import java.math.BigInteger<br>class BigInt(val bigInteger: BigInteger) <br>extends java.lang.Number {<br>  def + (that: BigInt) = <br>    new BigInt(this.bigInteger add that.bigInteger)<br>  def - (that: BigInt) = <br>    new BigInt(this.bigInteger subtract that.bigInteger)<br>    //...<br>}</code>    </pre>
    <p>No difference between using a language datatype or a datatype defined in a library<br>
</p>
<pre><code> def factorial(x: BigInt): BigInt = <br>  if (x == 0) 1 else x * factorial(x - 1)</code></pre>
<p>Use with care<br>
</p>
<pre><code> def `;` println("Don't try this at home")</code></pre>
<p>
<br>
</p>
</section>
<section>
    <h2>Implementing ?: operator<br>
    </h2>
<pre><code>firstName = "Bart"<br>lastName = null<br>println firstName ?: "Homer"<br>println lastName ?: "Simpson"<br><br>&gt;Bart<br>&gt;Simpson<br></code></pre>
<p>
<br>
</p>
<pre><code>implicit def elvisOperator[T](alt: =&gt;T) = new {<br>  def ?:[A &gt;: T] (pred: A) = if (pred ==null) alt else pred<br>}<br></code></pre>
<p>
<br>
</p>
</section>
</section>
<section>
    <h2>Adding new control structures</h2>
<pre><code>val f = new BufferedReader(new FileReader(path))<br>try {<br>  println(f.readLine())<br>} finally {<br>  if (f != null) f.close()<br>}</code></pre>
<p>Try with ressource (JDK 7)</p>
<pre><code>//JDK7<br>try (BufferedReader br =   new BufferedReader(new FileReader(path))) {<br>        return br.readLine();<br>}<br></code></pre>
<p>Exemple implementation usage in Scala</p>
<pre><code>using (new BufferedReader(new FileReader(path))) {<br>  f =&gt; f.readLine()<br>}</code></pre>
</section>
<section>
    <h2>Adding a new COntrol Structure</h2>
    <ul>
        <li>don't wait to be implemented in the next JDK<br>
        </li>
        <li>type parameters, structural typing, closure</li>
    </ul>
<pre><code>def using[T &lt;: { def close() }]<br>         (resource: T)<br>         (block: T =&gt; Unit) {<br>  try {<br>    block(resource)<br>  } finally {<br>    if (resource != null) resource.close()<br>  }<br>}</code></pre>
</section>
<section>
    <section>
        <h2>Break and CONTINUE</h2>
        <p>Scala does not have them. Why?<br>
    </p>
    <ul>
        <li>They are a bit imperative; better use many smaller functions.</li>
        <li>Issues how to interact with closures.</li>
        <li>They are not needed!<br>
        </li>
    </ul>
    <p>
    <br>
</p>
<blockquote>
    <p>We can support them purely in the libraries !</p>
</blockquote>
<pre><code>import scala.util.control.Breaks._<br>breakable {<br>  for (x &lt;- elems) {<br>    println(x * 2)<br>    if (x &gt; 0) break<br>  }<br>}    </code></pre>
<p>
<br>
</p>
</section>
<section>
    <h2>Break and CONTINUE</h2>
<pre><code>object Breaks{<br>  private class BreakException extends RuntimeException<br>  private val breakException = new BreakException<br><br>  def breakable(op: =&gt; Unit) {<br>    try{<br>       op<br>    }catch{<br>      case ex: BreakException =&gt;<br>    }<br>  }<br><br>  def break { throw breakException }<br>}<br></code></pre>
</section>
</section>
</div>



		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
